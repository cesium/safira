<.page title={gettext("Coin Flip")} size={:xl} title_class="font-terminal uppercase">
  <:actions>
    <.button phx-click="create-room" phx-value-bet={10}>+</.button>
    <span class="text-semibold text-xl border-2 px-4 py-2 rounded-full font-terminal">
      ğŸ’° <%= @attendee_tokens %>
    </span>
  </:actions>
  <div class="flex flex-row justify-center w-full pt-16">
    <%!-- <.action_button
      title={gettext("Spin")}
      subtitle={"ğŸ’° #{@wheel_price}"}
      class="w-64"
      disabled={false}
      phx-click="create-room"
      phx-value-bet={10}
    /> --%>
  </div>
  <h2 class="text-3xl font-semibold font-terminal">Current games:</h2>
  <div
    id="room-list-current"
    class="flex flex-col w-full md:flex-row flex-wrap items-center h-auto gap-4 my-5"
    phx-update="stream"
  >
    <.room
      :for={{id, room} <- @streams.room_list}
      :if={not room.finished}
      id={id}
      room={room}
      current_user={@current_user}
    />
  </div>

  <h2 class="text-3xl font-semibold font-terminal">Previous games:</h2>
  <div
    id="room-list-previous"
    class="flex flex-col w-full md:flex-row flex-wrap items-center h-auto gap-4 my-5"
    phx-update="stream"
  >
    <.room
      :for={{id, room} <- @streams.room_list}
      :if={room.finished}
      id={id}
      room={room}
      current_user={@current_user}
    />
    <%!-- <div
      :for={{room, index} <- Enum.with_index(@room_list) |> Enum.filter(fn {room, _} -> room.player2_id != nil end)}
      class="flex flex-col gap-3 items-center"
    >
      <span class="size-8 rounded-full bg-white text-black flex items-center justify-center font-extrabold">
        ?
      </span>
      <span class="size-8 rounded-full bg-white"></span>
    </div> --%>
  </div>
</.page>

<%!-- <.play_modal
  :if={@playing}
  wrapper_class="px-6"
  show
  id="confirm"
  on_cancel={JS.push("close-modal")}
/> --%>
